#!/usr/bin/env bash
# A Bash script that ensures only one instance of itself is running

# Lock file location
LOCKFILE="/tmp/highlander.lock"

# Check if another instance is running
if [ -e "$LOCKFILE" ] && kill -0 "$(cat $LOCKFILE)" 2>/dev/null; then
    echo "Another instance is already running. Exiting."
    exit 1
fi

# Save current PID to lock file
echo $$ > "$LOCKFILE"

# Remove lock file on exit
trap "rm -f $LOCKFILE" EXIT

# Infinite loop to keep the script running
while true; do
    echo "There can be only one"
    sleep 2
done
